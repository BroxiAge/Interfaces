<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dummy</title>
</head>
<body>
    <canvas id="lienzo" width="300" height="300"></canvas>
    
    <script>
        
        var canvas, context;
        var vertical = 10, horizontal = 10;
        var gw = 300 / horizontal; 
        var gh = 300 / vertical; 
        var posicion = {x: 0, y: 0};

        window.onload = function () {
            canvas = document.getElementById('lienzo');
            context = canvas.getContext('2d');

            canvas.onmousemove = function() {
                posicion.x = Math.floor(event.clientX / gw);
                posicion.y = Math.floor(event.clientY / gh);
                // fillBackground();
                drawSquare(posicion.x, posicion.y, "blue");

                canvas.onmouseup = function(event) { 
                    drawSquare(posicion.x, posicion.y, "red");
                }
            }

            fillBackground();
        }

        function drawSquare(x, y, color) {
            context.fillStyle = color;
            var rx = x * gw;
            var ry = y * gh;
            context.fillRect(rx, ry, gw, gh);
        }

        function fillBackground() {
            context.fillStyle = '#000';
            context.fillRect(0,0,300,300);
        }
    </script>
</body>
</html>